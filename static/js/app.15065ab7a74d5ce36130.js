webpackJsonp([1],[,,,,function(t,e,n){"use strict";var s=n(29),i=n.n(s),o="https://zhihu-daily.leanapp.cn/api/v1",a={news:"/last-stories",newsbyid:"/contents/",newsbydate:"/before-stories/",newsinfo:"/contents/extra/",topics:"/themes",topicbyid:"/themes/"},r=o.concat(a.news),c=o.concat(a.newsbyid),u=o.concat(a.newsbydate),p=o.concat(a.newsinfo),l=o.concat(a.topics),d=o.concat(a.topicbyid);e.a={getNews:function(){return i.a.get(r)},getNewsById:function(t){return i.a.get(c+t)},getNewsByDate:function(t){return i.a.get(u+t)},getNewsInfoById:function(t){return i.a.get(p,{params:{id:t}})},getTopics:function(){return i.a.get(l)},getTopicsById:function(t){return i.a.get(d+t)}}},,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var s=n(10),i=n(108),o=n(98),a=n.n(o),r=n(97),c=n.n(r),u=n(99),p=n.n(u);s.a.use(i.a),e.a=new i.a({routes:[{path:"/",name:"home",component:a.a},{path:"/content",name:"content",component:c.a},{path:"/theme",name:"theme",component:p.a},{path:"*",redirect:"/"}]})},,function(t,e,n){n(89);var s=n(1)(n(49),n(102),"data-v-2bbbf706",null);t.exports=s.exports},function(t,e,n){n(90);var s=n(1)(n(50),n(103),null,null);t.exports=s.exports},function(t,e,n){n(88);var s=n(1)(n(51),n(101),"data-v-1fb3d0aa",null);t.exports=s.exports},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"swiper-slide",data:function(){return{slideClass:"swiper-slide"}},ready:function(){this.update()},mounted:function(){this.update(),this.$parent.options.slideClass&&(this.slideClass=this.$parent.options.slideClass)},updated:function(){this.update()},attached:function(){this.update()},methods:{update:function(){this.$parent&&this.$parent.swiper&&this.$parent.swiper.update&&(this.$parent.swiper.update(!0),this.$parent.options.loop&&this.$parent.swiper.reLoop())}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s="undefined"!=typeof window;s&&(window.Swiper=n(22),n(86)),e.default={name:"swiper",props:{options:{type:Object,default:function(){return{autoplay:3500}}}},data:function(){return{defaultSwiperClasses:{wrapperClass:"swiper-wrapper"}}},ready:function(){!this.swiper&&s&&(this.swiper=new Swiper(this.$el,this.options))},mounted:function(){var t=this,e=function(){if(!t.swiper&&s){delete t.options.notNextTick;var e=!1;for(var n in t.defaultSwiperClasses)t.defaultSwiperClasses.hasOwnProperty(n)&&t.options[n]&&(e=!0,t.defaultSwiperClasses[n]=t.options[n]);var i=function(){t.swiper=new Swiper(t.$el,t.options)};e?t.$nextTick(i):i()}};this.options.notNextTick?e():this.$nextTick(e)},updated:function(){this.swiper&&this.swiper.update()},beforeDestroy:function(){this.swiper&&(this.swiper.destroy(),delete this.swiper)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),i=n.n(s),o=n(3),a=n(4);e.default={computed:i()({},n.i(o.b)({drawer:function(t){return t.drawer},top:function(t){return t.top}})),data:function(){return{num:1,list:"",open:!1}},mounted:function(){var t=this;a.a.getTopics().then(function(e){var n=JSON.parse(e.request.response);t.list=n.THEMES.others})},methods:{more:function(){this.open?this.open=!1:this.open=!0},back:function(t){t?this.$router.push({path:"home"}):window.history.back()},change:function(t,e){this.num=t,this.open=!1;var n=1==t?"home":"theme";this.$router.push({path:n,query:{id:e||""}}),this.$store.commit("changeNum",t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"pacman"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"scroll",mounted:function(){this.$nextTick(function(){document.querySelector(".app-view").addEventListener("scroll",this.needtoTop)})},methods:{backtoTop:function(){document.querySelector(".app-view").scrollTop=0},needtoTop:function(){document.querySelector(".app-view").scrollTop>document.documentElement.clientHeight?this.$store.commit("topShow",1):this.$store.commit("topShow")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),i=n.n(s),o=n(3),a=n(4);e.default={computed:i()({},n.i(o.b)({top:function(t){return t.top}})),name:"content",data:function(){return{data:""}},activated:function(){var t=this;a.a.getNewsById(this.$route.query.id).then(function(e){var n=JSON.parse(e.request.response);t.data=n.CONTENTS})},deactivated:function(){this.data=""}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),i=n.n(s),o=n(3),a=n(4);e.default={computed:i()({},n.i(o.b)({top:function(t){return t.top}})),name:"home",data:function(){return{swiperOption:{autoplay:3e3,pagination:".swiper-pagination",paginationClickable:!0},tops:"",date:"",list:[],refresh:!0}},mounted:function(){var t=this;a.a.getNews().then(function(e){var n=JSON.parse(e.request.response);t.list.push(n.STORIES),t.tops=n.STORIES.top_stories,t.date=n.STORIES.date,t.refresh=!1})},methods:{go:function(t){this.$router.push({path:"content",query:{id:t}})},getMoreNews:function(){var t=this;t.refresh=!0,a.a.getNewsByDate(this.date).then(function(e){var n=JSON.parse(e.request.response);t.list.push(n.STORIES),t.date=n.STORIES.date,t.refresh=!1})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),i=n.n(s),o=n(4),a=n(3);e.default={name:"theme",computed:i()({},n.i(a.b)({num:function(t){return t.num},top:function(t){return t.top}})),data:function(){return{list:""}},mounted:function(){this.getTopicsList()},watch:{num:function(){this.getTopicsList()}},methods:{go:function(t){this.$router.push({path:"content",query:{id:t}})},getTopicsList:function(){this.list="";var t=this;o.a.getTopicsById(this.$route.query.id).then(function(e){var n=JSON.parse(e.request.response);t.list=n.THEMEDES,document.querySelector(".app-view").scrollTop=0})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),i=n.n(s),o=n(10),a=n(3),r=n(25),c=n.n(r),u=n(26),p=n.n(u),l=n(24),d=n(27),f=n.n(d),v=n(28),h=n.n(v);o.a.use(a.a),o.a.use(c.a),o.a.component(f.a.name,f.a),o.a.component(h.a.name,h.a),o.a.config.productionTip=!1;var m=new a.a.Store({state:{drawer:!1,num:1,top:!1},mutations:{changeNum:function(t,e){return t.num=e},topShow:function(t,e){t.top=!!e},back:function(t,e){t.drawer=!e}}});new o.a(i()({el:"#app",router:l.a,store:m,template:"<App/>"},p.a)),l.a.beforeEach(function(t,e,n){"/content"==t.path?m.commit("back"):m.commit("back",1),m.commit("topShow"),n()})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,function(t,e,n){var s=n(1)(n(47),n(106),null,null);t.exports=s.exports},function(t,e,n){var s=n(1)(n(48),n(107),null,null);t.exports=s.exports},function(t,e,n){n(92);var s=n(1)(n(52),n(105),null,null);t.exports=s.exports},function(t,e,n){n(91);var s=n(1)(n(53),n(104),null,null);t.exports=s.exports},function(t,e,n){n(87);var s=n(1)(n(54),n(100),null,null);t.exports=s.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.list?t._e():n("pacman"),t._v(" "),t.list?n("div",{staticClass:"title"},[n("img",{attrs:{src:t.list.background}}),t._v(" "),n("div"),t._v(" "),n("h3",[n("p",[t._v(t._s(t.list.description))]),t._v(" "),n("p",[t._v(t._s(t.list.name))])])]):t._e(),t._v(" "),n("div",{staticClass:"list"},t._l(t.list.stories,function(e){return n("div",{staticClass:"listCon",on:{click:function(n){t.go(e.id)}}},[e.images?n("img",{attrs:{src:e.images[0]}}):t._e(),t._v(" "),n("p",[t._v(t._s(e.title))])])})),t._v(" "),n("scroll",{directives:[{name:"show",rawName:"v-show",value:t.top,expression:"top"}]})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"backtoTop",on:{click:function(e){t.backtoTop()}}},[n("i",{staticClass:"iconfont icon-rocket"})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("header",[t.drawer?t._e():n("i",{staticClass:"iconfont icon-menu",on:{click:function(e){t.more()}}}),t._v(" "),t.drawer?n("i",{staticClass:"iconfont icon-back",on:{click:function(e){t.back()}}}):t._e()]),t._v(" "),n("transition",{attrs:{name:"fade"}},[n("aside",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}]},[n("ul",[n("li",{class:{chose:1==t.num},on:{click:function(e){t.change(1)}}},[n("span",[t._v("首页")])]),t._v(" "),t._l(t.list,function(e,s){return n("li",{class:{chose:t.num==s+2},on:{click:function(n){t.change(s+2,e.id)}}},[n("span",[t._v(t._s(e.name))])])})],2),t._v(" "),n("i",{staticClass:"iconfont icon-close",on:{click:function(e){t.more()}}})])]),t._v(" "),n("keep-alive",[n("router-view",{staticClass:"app-view"})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loader-inner pacman"},[n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div")])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("swiper",{ref:"mySwiper",attrs:{options:t.swiperOption}},[t._l(t.tops,function(e){return n("swiper-slide",{key:e.id,nativeOn:{click:function(n){t.go(e.id)}}},[n("img",{attrs:{src:e.image}}),t._v(" "),n("div"),t._v(" "),n("h3",[t._v(t._s(e.title))])])}),t._v(" "),n("div",{staticClass:"swiper-pagination",slot:"pagination"})],2),t._v(" "),t._l(t.list,function(e){return n("div",{staticClass:"list"},[n("div",{staticClass:"listTime"},[t._v(t._s(e.date.substring(0,4)+" / "+e.date.substring(4,6)+" / "+e.date.substring(6,8)))]),t._v(" "),t._l(e.stories,function(e){return n("div",{staticClass:"listCon",on:{click:function(n){t.go(e.id)}}},[n("img",{attrs:{src:e.images[0]}}),t._v(" "),n("p",[t._v(t._s(e.title))])])})],2)}),t._v(" "),n("transition",{attrs:{name:"fade"}},[n("pacman",{directives:[{name:"show",rawName:"v-show",value:t.refresh,expression:"refresh"}]})],1),t._v(" "),n("a",{directives:[{name:"show",rawName:"v-show",value:!t.refresh,expression:"!refresh"}],staticClass:"moreButton",on:{click:function(e){t.getMoreNews()}}},[t._v("更多")]),t._v(" "),n("scroll",{directives:[{name:"show",rawName:"v-show",value:t.top,expression:"top"}]})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-page"},[t.data?t._e():n("pacman"),t._v(" "),t.data.image?n("div",{staticClass:"contentImg"},[n("img",{attrs:{src:t.data.image}}),t._v(" "),n("p",[t._v(t._s(t.data.title))])]):t._e(),t._v(" "),n("div",{staticClass:"contentBody",domProps:{innerHTML:t._s(t.data.body)}}),t._v(" "),n("scroll",{directives:[{name:"show",rawName:"v-show",value:t.top,expression:"top"}]})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.slideClass},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swiper-container"},[t._t("parallax-bg"),t._v(" "),n("div",{class:t.defaultSwiperClasses.wrapperClass},[t._t("default")],2),t._v(" "),t._t("pagination"),t._v(" "),t._t("button-prev"),t._v(" "),t._t("button-next"),t._v(" "),t._t("scrollbar")],2)},staticRenderFns:[]}}],[55]);
//# sourceMappingURL=app.15065ab7a74d5ce36130.js.map